<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kubernetes: 애플리케이션 설정을 체계적으로 관리하기 | minjun's blog</title><meta name=keywords content="Kubernetes"><meta name=description content="쿠버네티스 개발전략을 읽고 작성한 내용입니다.
https://product.kyobobook.co.kr/detail/S000200103262
쿠버네티스를 통해서 설정을 외부화하여 관리하는 방법을 알아보겠습니다. 여기서 설정은 데이터베이스 url, username, password, 얼마전에 작업한 뉴렐릭 라이센스 키 같은 값들을 말합니다. 이러한 설정값들은 변경되거나 추가 삭제되는 경우가 많기 때문에 애플리케이션 외부에서 관리하는 것이 유리합니다. 외부화된 설정: Externalized configuration 환경 변수와 실행 인자 실행 인자 우선 실행 인자와 환경 변수에 대해 알아보겠습니다
prod 프로필을 사용하려면 아래와 같이 실행 인자로 환경 정보를 넘겨줍니다.
$ java -Dspring."><meta name=author content="조민준"><link rel=canonical href=https://jo-minjun.github.io/notes/kubernetes-env/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://jo-minjun.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jo-minjun.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jo-minjun.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jo-minjun.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jo-minjun.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZW1ZBXB1FD"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZW1ZBXB1FD",{anonymize_ip:!1})}</script><meta property="og:title" content="Kubernetes: 애플리케이션 설정을 체계적으로 관리하기"><meta property="og:description" content="쿠버네티스 개발전략을 읽고 작성한 내용입니다.
https://product.kyobobook.co.kr/detail/S000200103262
쿠버네티스를 통해서 설정을 외부화하여 관리하는 방법을 알아보겠습니다. 여기서 설정은 데이터베이스 url, username, password, 얼마전에 작업한 뉴렐릭 라이센스 키 같은 값들을 말합니다. 이러한 설정값들은 변경되거나 추가 삭제되는 경우가 많기 때문에 애플리케이션 외부에서 관리하는 것이 유리합니다. 외부화된 설정: Externalized configuration 환경 변수와 실행 인자 실행 인자 우선 실행 인자와 환경 변수에 대해 알아보겠습니다
prod 프로필을 사용하려면 아래와 같이 실행 인자로 환경 정보를 넘겨줍니다.
$ java -Dspring."><meta property="og:type" content="article"><meta property="og:url" content="https://jo-minjun.github.io/notes/kubernetes-env/"><meta property="og:image" content="https://jo-minjun.github.io/logo.png"><meta property="article:section" content="notes"><meta property="article:published_time" content="2023-09-23T02:15:52+09:00"><meta property="article:modified_time" content="2023-09-23T02:15:52+09:00"><meta property="og:site_name" content="민준의 블로그"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jo-minjun.github.io/logo.png"><meta name=twitter:title content="Kubernetes: 애플리케이션 설정을 체계적으로 관리하기"><meta name=twitter:description content="쿠버네티스 개발전략을 읽고 작성한 내용입니다.
https://product.kyobobook.co.kr/detail/S000200103262
쿠버네티스를 통해서 설정을 외부화하여 관리하는 방법을 알아보겠습니다. 여기서 설정은 데이터베이스 url, username, password, 얼마전에 작업한 뉴렐릭 라이센스 키 같은 값들을 말합니다. 이러한 설정값들은 변경되거나 추가 삭제되는 경우가 많기 때문에 애플리케이션 외부에서 관리하는 것이 유리합니다. 외부화된 설정: Externalized configuration 환경 변수와 실행 인자 실행 인자 우선 실행 인자와 환경 변수에 대해 알아보겠습니다
prod 프로필을 사용하려면 아래와 같이 실행 인자로 환경 정보를 넘겨줍니다.
$ java -Dspring."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Notes","item":"https://jo-minjun.github.io/notes/"},{"@type":"ListItem","position":3,"name":"Kubernetes: 애플리케이션 설정을 체계적으로 관리하기","item":"https://jo-minjun.github.io/notes/kubernetes-env/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kubernetes: 애플리케이션 설정을 체계적으로 관리하기","name":"Kubernetes: 애플리케이션 설정을 체계적으로 관리하기","description":"쿠버네티스 개발전략을 읽고 작성한 내용입니다.\nhttps://product.kyobobook.co.kr/detail/S000200103262\n쿠버네티스를 통해서 설정을 외부화하여 관리하는 방법을 알아보겠습니다. 여기서 설정은 데이터베이스 url, username, password, 얼마전에 작업한 뉴렐릭 라이센스 키 같은 값들을 말합니다. 이러한 설정값들은 변경되거나 추가 삭제되는 경우가 많기 때문에 애플리케이션 외부에서 관리하는 것이 유리합니다. 외부화된 설정: Externalized configuration 환경 변수와 실행 인자 실행 인자 우선 실행 인자와 환경 변수에 대해 알아보겠습니다\nprod 프로필을 사용하려면 아래와 같이 실행 인자로 환경 정보를 넘겨줍니다.\n$ java -Dspring.","keywords":["Kubernetes"],"articleBody":" 쿠버네티스 개발전략을 읽고 작성한 내용입니다.\nhttps://product.kyobobook.co.kr/detail/S000200103262\n쿠버네티스를 통해서 설정을 외부화하여 관리하는 방법을 알아보겠습니다. 여기서 설정은 데이터베이스 url, username, password, 얼마전에 작업한 뉴렐릭 라이센스 키 같은 값들을 말합니다. 이러한 설정값들은 변경되거나 추가 삭제되는 경우가 많기 때문에 애플리케이션 외부에서 관리하는 것이 유리합니다. 외부화된 설정: Externalized configuration 환경 변수와 실행 인자 실행 인자 우선 실행 인자와 환경 변수에 대해 알아보겠습니다\nprod 프로필을 사용하려면 아래와 같이 실행 인자로 환경 정보를 넘겨줍니다.\n$ java -Dspring.profiles.active=prod -jar my-app.jar 위 스크립트에서 -Dspring.profiles.active=prod를 실행 인자라고 합니다. 이 실행 인자를 이용해서 애플리케이션에 환경 정보를 넘겨 줄 수 있습니다. application-prod.yaml 과 같이 미리 정의된 설정 파일을 선택하여 사용할 수 있습니다. 그런데 위와 같은 방법은 애플리케이션을 직접 실행하는 환경에서 적합합니다. 쿠버네티스를 사용하는 환경에서는 적합하지 않은데요.\n쿠버네티스 환경에서는 파드 명세서에 실행 인자를 정의하여 환경 정보를 넘겨줄 수 있습니다.\napiVersion: v1 kind: Pod metadata: name: my-pod-prod spec: containers: - name: my-container image: alswns9288/my-app:1.0.0 ports: - containerPort: 8080 name: web protocol: TCP args: [\"-spring.profiles.active=prod\"] # ... 환경 변수 파드 명세서에 환경 변수를 정의하여 설정을 관리할 수 있습니다 apiVersion: v1 kind: Pod metadata: name: my-pod-prod spec: containers: - name: my-container image: alswns9288/my-app:1.0.0 ports: - containerPort: 8080 env: - name: SPRING_PROFILES_ACTIVE value: \"prod\" # ... 파드 명세서에 name, value 를 정의하여 환경 정보를 넘겨줄 수 있습니다. 컨피그맵을 이용하여 여러 설정값 한번에 관리하기 실행 인자와 환경 변수는 여러 파드가 동일한 설정값을 사용하는 경우에는 적합하지 않습니다. 이런 경우에는 컨피그맵을 사용하면 설정값을 편리하게 관리할 수 있습니다. 컨피그맵은 설정값을 key-value 형태로 쿠버네티스 클러스터에 저장하고 파드에서 사용할 수 있도록 도와주는 역할을 합니다. # 컨피그맵 apiVersion: v1 kind: ConfigMap metadata: name: my-config data: APPLICATION_KEY: \"configmap value\" 컨피그맵 사용 \u003c컨피그맵 참조\u003e\n# 파드 apiVersion: v1 kind: Pod metadata: name: my-pod spec: containers: - name: my-container image: alswns9288/my-app:1.0.0 ports: - containerPort: 8080 name: web protocol: TCP env: - name: APPLICATION_KEY valueFrom: configMapKeyRef: name: my-config key: APPLICATION_KEY \u003c컨피그맵을 파일로 참조\u003e\n# 컨피그맵 apiVersion: v1 kind: ConfigMap metadata: name: my-config data: my-property: | APPLICATION_KEY: \"configmap value\" # 파드 apiVersion: v1 kind: Pod metadata: name: my-pod spec: containers: - name: my-container image: alswns9288/my-app:1.0.0 ports: - containerPort: 8080 name: web protocol: TCP volumeMounts: - name: property mountPath: /app/resources volumes: - name: property configMap: items: - key: my-properaty path: application.yaml \u003c컨피그맵 참조\u003e 방법과 \u003c컨피그맵을 파일로 참조\u003e 방법의 차이는 무엇일까요? \u003c컨피그맵 참조\u003e 방법은 파드를 시작할 때 환경변수를 시스템에 설정하고 파드를 시작합니다. 따라서 컨피그맵을 변경해도 파드의 환경변수 값이 변경되지 않습니다. 변경된 컨피그맵을 적용하려면 파드를 재시작해야합니다. 반면에 \u003c컨피그맵을 파일로 참조\u003e 방법은 파일을 마운트하는 방법입니다. 컨피그맵을 변경하면 마운트된 파일이 변경됩니다. 따라서 파드를 재시작하지 않아도 변경된 컨피그맵을 사용할 수 있습니다. 파드 명세서에서 env 가 아닌 envFrom 을 사용할 수도 있습니다.\n이 방식은 env 처럼 컨피그맵의 특정 key를 참조하는 것이 아닌, 컨피그맵의 전체 키를 참조합니다.\n시크릿을 이용해 민감한 설정값 관리하기 컨피그맵으로 관리하기 민감한 값은 시크릿으로 관리할 수 있습니다 시크릿은 민감하게 관리해야 하는 설정값들을 별도로 관리할 수 있게 해줍니다. 시크릿을 생성하는 대표적인 2가지를 알아보겠습니다. 파일로 시크릿 생성 $ cat secretfile secret value $ kubectl create secret generic my-secret --from-file=APPLICATION_KEY=./secretfile 명세서로 시크릿 생성 # 시크릿 apiVersion: v1 kind: Secret metadata: name: my-secret-manifest data: APPLICATION_KEY: c2VjcmV0IHZhbHVlCg== 명세서를 사용할때는 base64로 인코딩된 값을 사용해야합니다. 파드에서 시크릿 사용 # 파드 apiVersion: v1 kind: Pod metadata: name: my-pod2 spec: containers: - name: my-container image: 'alswns9288/my-app:1.0.0' ports: - containerPort: 8080 name: web protocol: TCP env: - name: APPLICATION_KEY valueFrom: secretKeyRef: name: my-secret key: APPLICATION_KEY 시크릿 조회 $ kubectl get secret my-secret -o yaml apiVersion: v1 data: APPLICATION_KEY: c2VjcmV0IHZhbHVlCg== kind: Secret metadata: creationTimestamp: \"2023-09-19T16:12:05Z\" name: my-secret namespace: default resourceVersion: \"5320\" uid: ccf7e058-755d-4587-ba2b-0d98ff3c8a05 type: Opaque 위와 같이 시크릿을 조회하면 base64로 인코딩된 설정값을 조회할 수 있습니다. $ echo c2VjcmV0IHZhbHVlCg== | base64 -D secret value 이렇게 base64로 되어 있으면 어떻게 민감한 값을 관리할 수 있을까 의문이 들 수 있습니다. 쿠버네티스는 플러그인으로 암호화 설정을 하거나, 시크릿에 대한 권한 제한으로 처리하도록 가이드하고 있습니다. ","wordCount":"604","inLanguage":"en","datePublished":"2023-09-23T02:15:52+09:00","dateModified":"2023-09-23T02:15:52+09:00","author":[{"@type":"Person","name":"조민준"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://jo-minjun.github.io/notes/kubernetes-env/"},"publisher":{"@type":"Organization","name":"minjun's blog","logo":{"@type":"ImageObject","url":"https://jo-minjun.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jo-minjun.github.io accesskey=h title="minjun's blog (Alt + H)">minjun's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jo-minjun.github.io/search title=" (Alt + /)" accesskey=/><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="23" y1="23" x2="16.65" y2="16.65"/></svg></span></a></li><li><a href=https://jo-minjun.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://jo-minjun.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jo-minjun.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://jo-minjun.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://jo-minjun.github.io/doodles/ title=끄적끄적><span>끄적끄적</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://jo-minjun.github.io>Home</a>&nbsp;»&nbsp;<a href=https://jo-minjun.github.io/notes/>Notes</a></div><h1 class=post-title>Kubernetes: 애플리케이션 설정을 체계적으로 관리하기</h1><div class=post-meta><span title='2023-09-23 02:15:52 +0900 +0900'>September 23, 2023</span>&nbsp;·&nbsp;조민준&nbsp;|&nbsp;<a href="https://github.com/jo-minjun/my-blog/issues/new?assignees=jo-minjun&amp;labels=invalid&amp;template=-%ED%8F%AC%EC%8A%A4%ED%8A%B8-%ED%83%80%EC%9D%B4%ED%8B%80-.md&amp;title=%5BPOST%5D" rel="noopener noreferrer" target=_blank>변경 요청 &lt;-- 내용이 잘못되었다면?</a></div></header><br><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>목차 보기</span></summary><div class=inner><ul><li><a href=#%ed%99%98%ea%b2%bd-%eb%b3%80%ec%88%98%ec%99%80-%ec%8b%a4%ed%96%89-%ec%9d%b8%ec%9e%90 aria-label="환경 변수와 실행 인자">환경 변수와 실행 인자</a><ul><li><a href=#%ec%8b%a4%ed%96%89-%ec%9d%b8%ec%9e%90 aria-label="실행 인자">실행 인자</a></li><li><a href=#%ed%99%98%ea%b2%bd-%eb%b3%80%ec%88%98 aria-label="환경 변수">환경 변수</a></li></ul></li><li><a href=#%ec%bb%a8%ed%94%bc%ea%b7%b8%eb%a7%b5%ec%9d%84-%ec%9d%b4%ec%9a%a9%ed%95%98%ec%97%ac-%ec%97%ac%eb%9f%ac-%ec%84%a4%ec%a0%95%ea%b0%92-%ed%95%9c%eb%b2%88%ec%97%90-%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0 aria-label="컨피그맵을 이용하여 여러 설정값 한번에 관리하기">컨피그맵을 이용하여 여러 설정값 한번에 관리하기</a><ul><li><a href=#%ec%bb%a8%ed%94%bc%ea%b7%b8%eb%a7%b5-%ec%82%ac%ec%9a%a9 aria-label="컨피그맵 사용"><strong>컨피그맵 사용</strong></a></li></ul></li><li><a href=#%ec%8b%9c%ed%81%ac%eb%a6%bf%ec%9d%84-%ec%9d%b4%ec%9a%a9%ed%95%b4-%eb%af%bc%ea%b0%90%ed%95%9c-%ec%84%a4%ec%a0%95%ea%b0%92-%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0 aria-label="시크릿을 이용해 민감한 설정값 관리하기">시크릿을 이용해 민감한 설정값 관리하기</a><ul><li><a href=#%ed%8c%8c%ec%9d%bc%eb%a1%9c-%ec%8b%9c%ed%81%ac%eb%a6%bf-%ec%83%9d%ec%84%b1 aria-label="파일로 시크릿 생성">파일로 시크릿 생성</a></li><li><a href=#%eb%aa%85%ec%84%b8%ec%84%9c%eb%a1%9c-%ec%8b%9c%ed%81%ac%eb%a6%bf-%ec%83%9d%ec%84%b1 aria-label="명세서로 시크릿 생성">명세서로 시크릿 생성</a></li><li><a href=#%ed%8c%8c%eb%93%9c%ec%97%90%ec%84%9c-%ec%8b%9c%ed%81%ac%eb%a6%bf-%ec%82%ac%ec%9a%a9 aria-label="파드에서 시크릿 사용">파드에서 시크릿 사용</a></li><li><a href=#%ec%8b%9c%ed%81%ac%eb%a6%bf-%ec%a1%b0%ed%9a%8c aria-label="시크릿 조회">시크릿 조회</a></li></ul></li></ul></div></details></div><div class=post-content><blockquote><p>쿠버네티스 개발전략을 읽고 작성한 내용입니다.<br><a href=https://product.kyobobook.co.kr/detail/S000200103262>https://product.kyobobook.co.kr/detail/S000200103262</a></p></blockquote><ul><li>쿠버네티스를 통해서 설정을 외부화하여 관리하는 방법을 알아보겠습니다.</li><li>여기서 설정은 데이터베이스 url, username, password, 얼마전에 작업한 뉴렐릭 라이센스 키 같은 값들을 말합니다. 이러한 설정값들은 변경되거나 추가 삭제되는 경우가 많기 때문에 애플리케이션 외부에서 관리하는 것이 유리합니다.<ul><li>외부화된 설정: Externalized configuration</li></ul></li></ul><h2 id=환경-변수와-실행-인자>환경 변수와 실행 인자<a hidden class=anchor aria-hidden=true href=#환경-변수와-실행-인자>#</a></h2><h3 id=실행-인자>실행 인자<a hidden class=anchor aria-hidden=true href=#실행-인자>#</a></h3><ul><li><p>우선 실행 인자와 환경 변수에 대해 알아보겠습니다</p></li><li><p>prod 프로필을 사용하려면 아래와 같이 실행 인자로 환경 정보를 넘겨줍니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ java -Dspring.profiles.active<span style=color:#f92672>=</span>prod -jar my-app.jar
</span></span></code></pre></div><ul><li>위 스크립트에서 <code>-Dspring.profiles.active=prod</code>를 실행 인자라고 합니다. 이 실행 인자를 이용해서 애플리케이션에 환경 정보를 넘겨 줄 수 있습니다.</li><li><code>application-prod.yaml</code> 과 같이 미리 정의된 설정 파일을 선택하여 사용할 수 있습니다.</li></ul></li><li><p>그런데 위와 같은 방법은 애플리케이션을 직접 실행하는 환경에서 적합합니다. 쿠버네티스를 사용하는 환경에서는 적합하지 않은데요.</p></li><li><p>쿠버네티스 환경에서는 파드 명세서에 실행 인자를 정의하여 환경 정보를 넘겨줄 수 있습니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-pod-prod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>	- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-container</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>image</span>: <span style=color:#ae81ff>alswns9288/my-app:1.0.0</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>name</span>: <span style=color:#ae81ff>web</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>protocol</span>: <span style=color:#ae81ff>TCP</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>args</span>: [<span style=color:#e6db74>&#34;-spring.profiles.active=prod&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#75715e># ...</span>
</span></span></code></pre></div></li></ul><h3 id=환경-변수>환경 변수<a hidden class=anchor aria-hidden=true href=#환경-변수>#</a></h3><ul><li>파드 명세서에 환경 변수를 정의하여 설정을 관리할 수 있습니다<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-pod-prod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>	- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-container</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>image</span>: <span style=color:#ae81ff>alswns9288/my-app:1.0.0</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>SPRING_PROFILES_ACTIVE</span>
</span></span><span style=display:flex><span>		  <span style=color:#f92672>value</span>: <span style=color:#e6db74>&#34;prod&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ...</span>
</span></span></code></pre></div><ul><li>파드 명세서에 name, value 를 정의하여 환경 정보를 넘겨줄 수 있습니다.</li></ul></li></ul><h2 id=컨피그맵을-이용하여-여러-설정값-한번에-관리하기>컨피그맵을 이용하여 여러 설정값 한번에 관리하기<a hidden class=anchor aria-hidden=true href=#컨피그맵을-이용하여-여러-설정값-한번에-관리하기>#</a></h2><ul><li>실행 인자와 환경 변수는 여러 파드가 동일한 설정값을 사용하는 경우에는 적합하지 않습니다. 이런 경우에는 컨피그맵을 사용하면 설정값을 편리하게 관리할 수 있습니다.</li><li>컨피그맵은 설정값을 key-value 형태로 쿠버네티스 클러스터에 저장하고 파드에서 사용할 수 있도록 도와주는 역할을 합니다.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 컨피그맵</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ConfigMap</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-config</span>
</span></span><span style=display:flex><span><span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>APPLICATION_KEY</span>: <span style=color:#e6db74>&#34;configmap value&#34;</span>
</span></span></code></pre></div><h3 id=컨피그맵-사용><strong>컨피그맵 사용</strong><a hidden class=anchor aria-hidden=true href=#컨피그맵-사용>#</a></h3><p><strong>&lt;컨피그맵 참조></strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 파드</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>	- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-container</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>image</span>: <span style=color:#ae81ff>alswns9288/my-app:1.0.0</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>name</span>: <span style=color:#ae81ff>web</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>protocol</span>: <span style=color:#ae81ff>TCP</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>APPLICATION_KEY</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>valueFrom</span>:
</span></span><span style=display:flex><span>				<span style=color:#f92672>configMapKeyRef</span>:
</span></span><span style=display:flex><span>					<span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-config</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>key</span>: <span style=color:#ae81ff>APPLICATION_KEY</span>
</span></span></code></pre></div><p><strong>&lt;컨피그맵을 파일로 참조></strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 컨피그맵</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ConfigMap</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-config</span>
</span></span><span style=display:flex><span><span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>my-property</span>: <span style=color:#ae81ff>|</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>APPLICATION_KEY</span>: <span style=color:#e6db74>&#34;configmap value&#34;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 파드</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>	<span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>	- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-container</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>image</span>: <span style=color:#ae81ff>alswns9288/my-app:1.0.0</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>name</span>: <span style=color:#ae81ff>web</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>protocol</span>: <span style=color:#ae81ff>TCP</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>volumeMounts</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>property</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>mountPath</span>: <span style=color:#ae81ff>/app/resources</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>		- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>property</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>configMap</span>:
</span></span><span style=display:flex><span>				<span style=color:#f92672>items</span>:
</span></span><span style=display:flex><span>				- <span style=color:#f92672>key</span>: <span style=color:#ae81ff>my-properaty</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>path</span>: <span style=color:#ae81ff>application.yaml</span>
</span></span></code></pre></div><ul><li><strong>&lt;컨피그맵 참조></strong> 방법과 <strong>&lt;컨피그맵을 파일로 참조></strong> 방법의 차이는 무엇일까요?<ul><li><strong>&lt;컨피그맵 참조></strong> 방법은 파드를 시작할 때 환경변수를 시스템에 설정하고 파드를 시작합니다. 따라서 컨피그맵을 변경해도 파드의 환경변수 값이 변경되지 않습니다.<ul><li>변경된 컨피그맵을 적용하려면 파드를 재시작해야합니다.</li></ul></li><li>반면에 <strong>&lt;컨피그맵을 파일로 참조></strong> 방법은 파일을 마운트하는 방법입니다. 컨피그맵을 변경하면 마운트된 파일이 변경됩니다. 따라서 파드를 재시작하지 않아도 변경된 컨피그맵을 사용할 수 있습니다.</li></ul></li></ul><blockquote><p>파드 명세서에서 <code>env</code> 가 아닌 <code>envFrom</code> 을 사용할 수도 있습니다.<br>이 방식은 <code>env</code> 처럼 컨피그맵의 특정 key를 참조하는 것이 아닌, 컨피그맵의 전체 키를 참조합니다.</p></blockquote><h2 id=시크릿을-이용해-민감한-설정값-관리하기>시크릿을 이용해 민감한 설정값 관리하기<a hidden class=anchor aria-hidden=true href=#시크릿을-이용해-민감한-설정값-관리하기>#</a></h2><ul><li>컨피그맵으로 관리하기 민감한 값은 시크릿으로 관리할 수 있습니다</li><li>시크릿은 민감하게 관리해야 하는 설정값들을 별도로 관리할 수 있게 해줍니다.</li><li>시크릿을 생성하는 대표적인 2가지를 알아보겠습니다.</li></ul><h3 id=파일로-시크릿-생성>파일로 시크릿 생성<a hidden class=anchor aria-hidden=true href=#파일로-시크릿-생성>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat secretfile
</span></span><span style=display:flex><span>secret value
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl create secret generic my-secret --from-file<span style=color:#f92672>=</span>APPLICATION_KEY<span style=color:#f92672>=</span>./secretfile
</span></span></code></pre></div><h3 id=명세서로-시크릿-생성>명세서로 시크릿 생성<a hidden class=anchor aria-hidden=true href=#명세서로-시크릿-생성>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 시크릿</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Secret</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-secret-manifest</span>
</span></span><span style=display:flex><span><span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>APPLICATION_KEY</span>: <span style=color:#ae81ff>c2VjcmV0IHZhbHVlCg==</span>
</span></span></code></pre></div><ul><li>명세서를 사용할때는 base64로 인코딩된 값을 사용해야합니다.</li></ul><h3 id=파드에서-시크릿-사용>파드에서 시크릿 사용<a hidden class=anchor aria-hidden=true href=#파드에서-시크릿-사용>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 파드</span>
</span></span><span style=display:flex><span>apiVersion: v1
</span></span><span style=display:flex><span>kind: Pod
</span></span><span style=display:flex><span>metadata:
</span></span><span style=display:flex><span>  name: my-pod2
</span></span><span style=display:flex><span>spec:
</span></span><span style=display:flex><span>  containers:
</span></span><span style=display:flex><span>    - name: my-container
</span></span><span style=display:flex><span>      image: <span style=color:#e6db74>&#39;alswns9288/my-app:1.0.0&#39;</span>
</span></span><span style=display:flex><span>      ports:
</span></span><span style=display:flex><span>        - containerPort: <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>          name: web
</span></span><span style=display:flex><span>          protocol: TCP
</span></span><span style=display:flex><span>      env:
</span></span><span style=display:flex><span>        - name: APPLICATION_KEY
</span></span><span style=display:flex><span>          valueFrom:
</span></span><span style=display:flex><span>            secretKeyRef:
</span></span><span style=display:flex><span>              name: my-secret
</span></span><span style=display:flex><span>              key: APPLICATION_KEY
</span></span></code></pre></div><h3 id=시크릿-조회>시크릿 조회<a hidden class=anchor aria-hidden=true href=#시크릿-조회>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl get secret my-secret -o yaml
</span></span><span style=display:flex><span>apiVersion: v1
</span></span><span style=display:flex><span>data:
</span></span><span style=display:flex><span>  APPLICATION_KEY: c2VjcmV0IHZhbHVlCg<span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>kind: Secret
</span></span><span style=display:flex><span>metadata:
</span></span><span style=display:flex><span>  creationTimestamp: <span style=color:#e6db74>&#34;2023-09-19T16:12:05Z&#34;</span>
</span></span><span style=display:flex><span>  name: my-secret
</span></span><span style=display:flex><span>  namespace: default
</span></span><span style=display:flex><span>  resourceVersion: <span style=color:#e6db74>&#34;5320&#34;</span>
</span></span><span style=display:flex><span>  uid: ccf7e058-755d-4587-ba2b-0d98ff3c8a05
</span></span><span style=display:flex><span>type: Opaque
</span></span></code></pre></div><ul><li>위와 같이 시크릿을 조회하면 base64로 인코딩된 설정값을 조회할 수 있습니다.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ echo c2VjcmV0IHZhbHVlCg<span style=color:#f92672>==</span> | base64 -D
</span></span><span style=display:flex><span>secret value
</span></span></code></pre></div><ul><li>이렇게 base64로 되어 있으면 어떻게 민감한 값을 관리할 수 있을까 의문이 들 수 있습니다.</li><li>쿠버네티스는 플러그인으로 암호화 설정을 하거나, 시크릿에 대한 권한 제한으로 처리하도록 가이드하고 있습니다.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://jo-minjun.github.io/tags/kubernetes/>Kubernetes</a></li></ul><nav class=paginav><a class=next href=https://jo-minjun.github.io/notes/spring-security-in-action1/><span class=title>Next »</span><br><span>Spring Security 기본 구성</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes: 애플리케이션 설정을 체계적으로 관리하기 on twitter" href="https://twitter.com/intent/tweet/?text=Kubernetes%3a%20%ec%95%a0%ed%94%8c%eb%a6%ac%ec%bc%80%ec%9d%b4%ec%85%98%20%ec%84%a4%ec%a0%95%ec%9d%84%20%ec%b2%b4%ea%b3%84%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2fjo-minjun.github.io%2fnotes%2fkubernetes-env%2f&amp;hashtags=Kubernetes"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes: 애플리케이션 설정을 체계적으로 관리하기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fjo-minjun.github.io%2fnotes%2fkubernetes-env%2f&amp;title=Kubernetes%3a%20%ec%95%a0%ed%94%8c%eb%a6%ac%ec%bc%80%ec%9d%b4%ec%85%98%20%ec%84%a4%ec%a0%95%ec%9d%84%20%ec%b2%b4%ea%b3%84%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0&amp;summary=Kubernetes%3a%20%ec%95%a0%ed%94%8c%eb%a6%ac%ec%bc%80%ec%9d%b4%ec%85%98%20%ec%84%a4%ec%a0%95%ec%9d%84%20%ec%b2%b4%ea%b3%84%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0&amp;source=https%3a%2f%2fjo-minjun.github.io%2fnotes%2fkubernetes-env%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes: 애플리케이션 설정을 체계적으로 관리하기 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fjo-minjun.github.io%2fnotes%2fkubernetes-env%2f&title=Kubernetes%3a%20%ec%95%a0%ed%94%8c%eb%a6%ac%ec%bc%80%ec%9d%b4%ec%85%98%20%ec%84%a4%ec%a0%95%ec%9d%84%20%ec%b2%b4%ea%b3%84%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes: 애플리케이션 설정을 체계적으로 관리하기 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjo-minjun.github.io%2fnotes%2fkubernetes-env%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes: 애플리케이션 설정을 체계적으로 관리하기 on whatsapp" href="https://api.whatsapp.com/send?text=Kubernetes%3a%20%ec%95%a0%ed%94%8c%eb%a6%ac%ec%bc%80%ec%9d%b4%ec%85%98%20%ec%84%a4%ec%a0%95%ec%9d%84%20%ec%b2%b4%ea%b3%84%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0%20-%20https%3a%2f%2fjo-minjun.github.io%2fnotes%2fkubernetes-env%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes: 애플리케이션 설정을 체계적으로 관리하기 on telegram" href="https://telegram.me/share/url?text=Kubernetes%3a%20%ec%95%a0%ed%94%8c%eb%a6%ac%ec%bc%80%ec%9d%b4%ec%85%98%20%ec%84%a4%ec%a0%95%ec%9d%84%20%ec%b2%b4%ea%b3%84%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ea%b4%80%eb%a6%ac%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2fjo-minjun.github.io%2fnotes%2fkubernetes-env%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div><script src=https://utteranc.es/client.js repo=jo-minjun/my-blog issue-term=pathname label=comment theme=photon-dark crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2023 <a href=https://jo-minjun.github.io>minjun's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script type=module src=https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js></script>
<script nomodule src=https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js></script>
<script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>